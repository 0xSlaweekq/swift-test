# Тестовое задание.

#### Имеется JSON-спецификация веб-сервиса, в которой описаны входные и выходые параметры.

1. на основе спецификации строится форма.
2. значения передаются на сервер.
3. на сервере формируется команда для запуска.
4. осуществляется запуск дочернего процесса ./start.sh с аргументами.
5. ./start.sh там что-то долго вычисляет и через какое-то время выдает результат, который выводится на странице в браузер

### Пример JSON-спецификации:

```JSON
{
    "name": "sample-web-service",
    "title": "Пример веб-сервиса",
    "description": "Описание веб-сервиса",
    "parameters": {
        "input": [
            {
                "type": "number",
                "name": "input_num",
                "title": "Числовое значение, передаваемое на вход программе"
            },
            {
                "type": "select",
                "name": "input_text",
                "title": "Текстовое значение, выбираемое из списка и передаваемое на вход программе",
                "items": [
                    {"value": "text1", "title": "Первый элемент"},
                    {"value": "text2", "title": "Второй элемент"}
                ]
            }
        ],
        "output": [
            {
                "type": "string",
                "name": "result",
                "title": "Результат выполнения программы"
            }
        ]
    },
    "commands": {
        "start": "./start.sh ${input_num} ${input_text}"
    }
}
```

### Необходимо:

I. Разработать Frontend на React, который должен:

1.  получать от backend приведенную выше JSON-спецификацию;
2.  формировать на странице описание сервиса (name, title, description);
3.  формировать форму с полями для ввода входных значений для параметров input_num и input_text
    (входных параметров может быть больше двух, типы только number и select);
4.  отображать кнопку "Запустить", после того как значения параметров введены;
5.  отправлять POST-запрос с параметрами input_num и input_text;
6.  отобразить где-то на стрнице ответ сервера.

II. Разработать Backend на node.js с двумя end-point'ами (по вашему усмотрению может быть больше):

1.  GET /config - который будет возвращать приведенный выше JSON.
    JSON можно сохранить где-то в директории конфигурации либо в БД по вашему усмотрению.
2.  POST /run - на данный end-point должны отправляться значения входных параметров input_num и input_text
    Формируется строка запуска. К примеру, если input_num=4, input_text=text, то должна быть сформирована строка
    ./start.sh 4 "text"
    После завершения выполнения команды вывод отдается клиенту.
    Скрипт start.sh может из себя представлять что-то вроде
    #!/bin/bash
    date;
    sleep 30;
    echo "Num: $1";
    echo "Text: $2";

III. Плюсом будет если сможете на данном тестовом задании продемонстрировать:

1.  TypeScript;
2.  знание каких-либо баз данных там где сочтете их применение уместным;
3.  docker-контейнеризацию;
4.  валидацию данных;
5.  очереди (возможность поочередного использования данного веб-сервиса с проверкой статуса выполнения текущего задания);
6.  логирование;
7.  системы контроля версий;
8.  тестирование кода.

IV.

1.  Перед выполнением задания дайте примерную оценку сколько задание займет у вас времени .
2.  После выполнения дайте фактичекскую оценку времени и прокомментируйте ее
    (возможно в процессе выполнения вы решили использовать какие-то иные
    средства, решили что-то усовершенствовать, сделали все технически лучше,
    чем предполагали изначально)

## Оценка времени на выполнение

### Исходя из объема задания, предполагаемая оценка времени выполнения:

- Backend (NestJS, TypeORM, nx, запуск скрипта) – 2-4 часов
- Frontend (React, TypeScript, форма + взаимодействие с API) – 4-6 часов
- Docker (контейнеризация сервиса + базы данных) – 2-3 часа
- Очереди (если использовать BullMQ + Redis) – 1-2 часа
- Тестирование (Jest, e2e, unit-тесты) – 3-4 часа
- Логирование, валидация, CI/CD – 2-3 часа
- Отладка, рефакторинг, документация – 3-4 часа
- Итого: Задача реализуется за 17-26 часов в полном объеме(в зависимости от глубины реализации дополнительных фич). Если делать базовый функционал (без очередей, логирования, CI/CD и контейнеризации), то можно сократить до 12-16 часов.
